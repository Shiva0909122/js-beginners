<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async / Await</title>
</head>

<body>
    <h3>Async / Await</h3>

    <script>
        // Promise to evaluate the score
        let result = function (score) {
            return new Promise(function (resolve, reject) {
                console.log("Calculating results...");
                if (score > 50) {
                    resolve("Congrats! You passed."); // Resolve if score is greater than 50
                } else {
                    reject("You failed."); // Reject if score is 50 or below
                }
            });
        };

        // Promise to calculate the grade based on the result
        let grade = function (response) {
            return new Promise(function (resolve, reject) {
                console.log("Calculating grade...");
                resolve("Your grade is A. " + response); // Resolve with a success message
            });
        };

        // Example 1: Using Promises with `.then` and `.catch`
        // Uncomment this block to test the Promise chaining approach
        /*
        result(80).then(response => {
            console.log("Results received");
            return grade(response); // Pass the result to grade function
        }).then(finalGrade => {
            console.log(finalGrade); // Log the final grade
        }).catch(err => {
            console.log(err); // Handle errors
        });
        */

        // Example 2: Using Async/Await for cleaner syntax
        async function calculateResults() {
            try {
                const response = await result(80); // Wait for result promise
                console.log("Results received");
                const finalGrade = await grade(response); // Wait for grade promise
                console.log(finalGrade); // Log the final grade
            } catch (err) {
                console.log(err); // Handle errors
            }
        }

        calculateResults(); // Call the async function
    </script>
</body>

</html>
